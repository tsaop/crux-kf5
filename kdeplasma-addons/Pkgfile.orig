# Description: Part of KDE Plasma
# URL: https://www.kde.org
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: alsa-lib attica dbus ffmpeg fontconfig freetype glib harfbuzz kactivities karchive kauth kcmutils kcodecs kcompletion kconfig kconfigwidgets kcoreaddons kcrash kdbusaddons kdeclarative kglobalaccel kguiaddons kholidays ki18n kiconthemes kio kitemviews kjobwidgets knewstuff knotifications kpackage kross krunner kservice kunitconversion kwidgetsaddons kwindowsystem kxmlgui lcms2 libcanberra libdbusmenu-qt5 libglvnd libjpeg-turbo libogg libpng libvorbis libvpx libwebp nspr nss opus plasma-framework purpose qt5 qtwebengine solid sonnet syndication threadweaver xorg-libx11 xorg-libxau xorg-libxcb xorg-libxdmcp xorg-libxext xorg-libxfixes xorg-libxi xorg-libxtst xorg-xcb-util-keysyms

name=kdeplasma-addons
version=5.27.8
release=1
source=(http://download.kde.org/stable/plasma/$version/$name-$version.tar.xz)

build() {
	cd $SRC
	mkdir build; cd build

	cmake \
	-DCMAKE_INSTALL_PREFIX=/usr \
	-DSYSCONF_INSTALL_DIR=/etc \
	-DLIB_INSTALL_DIR=/usr/lib \
	-DBUILD_TESTING=OFF \
	-DKDE_INSTALL_USE_QT_SYS_PATHS=ON \
	-DCMAKE_BUILD_TYPE=Release \
	-Wno-dev ../$name-$version

	make
	make DESTDIR=$PKG install

	rm -rf $PKG/usr/share/locale
	rm -rf $PKG/usr/share/man/{ca,de,it,nl,pt_BR,sv,uk,ru}
	rm -rf $PKG/usr/share/doc
}
